(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[11],{"+5yP":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("IHB5"),r=i("UzQk"),n=i("3r1R"),a=i("YLtl"),o=i("lzL7"),h=i("sodY").default.instance,l=[1,0,0,1,0,0],u=4;var c;!function(e){e[e.SUBTREE_CHANGED=0]="SUBTREE_CHANGED",e[e.NOT_VISIBLE=1]="NOT_VISIBLE",e[e.SUBTREE_CHANGED_AND_NOT_VISIBLE=2]="SUBTREE_CHANGED_AND_NOT_VISIBLE"}(c||(c={}));const d="data:image/png;base64,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",p=380,f=80;class m{constructor(e,t=1,i,s=!1,r=!1){this.id=`instance:${m.nextInstanceID++}`,this.hostAPI=e,this.canvasLpxWidth=0,this.canvasLpxHeight=0,this.canvasAspect=1,this.renderWidth=0,this.renderHeight=0,this.renderScale=1,this.currentGraph=null,this.pendingImageLoadCount=0,this.currentAnimationProgress=0,this.documentWidth=0,this.documentHeight=0,this.showWatermark=!1,this.bufferCanvas=document.createElement("canvas"),this.bufferCanvasContext=this.bufferCanvas.getContext("2d"),this.viewLookup={},this.renderQ=function(e=50){return new Promise((t,i)=>{a.delay(t,e)})}(),this.pixiApp=this.hostAPI.createPixiApp({width:32,height:32,antialias:!0,transparent:!0,preserveDrawingBuffer:s,resolution:t},i),this.ticker=new PIXI.ticker.Ticker,this.ticker.autoStart=!1,this.ticker.add(this.handleAnimationTick,this),this.ticker.stop(),this.stageDO=new n.default(this,this.pixiApp.stage),this.pixiApp.stage.on("image-loaded",this.handleImageLoaded,this),this.pixiApp.stage.on("image-loading",this.handleImageLoading,this),this.totalAnimationDuration=5e3,this.currentAnimationProgress=0}playAnimation(){this.ticker.started?this.pauseAnimation():(this.animationStartTime=Date.now(),this.ticker.start())}pauseAnimation(){this.ticker.stop()}setAnimationTime(e){this.currentAnimationProgress=e}getPixelData(e,t,i,s){const r=this.pixiApp.renderer.rootRenderTarget,n=new Uint8Array(u*i*s),a=this.pixiApp.renderer.gl;return this.pixiApp.renderer.bindRenderTarget(r),a.readPixels(e,t,i,s,a.RGBA,a.UNSIGNED_BYTE,n),function(e){for(let t=0;t<e.length;t+=4){const i=e[t+3];i&&(e[t]=Math.round(Math.min(255*e[t]/i,255)),e[t+1]=Math.round(Math.min(255*e[t+1]/i,255)),e[t+2]=Math.round(Math.min(255*e[t+2]/i,255)))}}(n),function(e,t){const i=4*t;for(let t=0;2*t<e.length;t+=i){let s=t,r=e.length-t-i,n=0;for(let t=0;t<i;t++)n=e[s],e[s]=e[r],e[r]=n,s++,r++}}(n,i),n}getColorAtPoint(e){const t=e.x/this.documentWidth,i=1-e.y/this.documentHeight,s=this.pixiApp.renderer.rootRenderTarget,r=s.resolution,n=s.size.width*r,a=s.size.height*r,o=Math.round(n*t),h=Math.round(a*i),l=this.getPixelData(o,h,1,1);return{r:l[0],g:l[1],b:l[2],a:l[3]/255}}dataURLtoBlob(e){const t=e.split(","),i=t[0],s=t[1],r=i.split(":")[1].split(";")[0],n=i.indexOf("base64")>=0?atob(s):unescape(s),a=n.length,o=new Uint8Array(a);for(let e=0;e<a;e++)o[e]=n.charCodeAt(e);return new Blob([o],{type:r})}getRenditionBlob(e="image/jpeg",t=.75){return this.getRenditionDataUrl(e,t).then(e=>this.dataURLtoBlob(e))}getRenditionDataUrl(e="image/jpeg",t=.75){return this.getExportCanvas().then(i=>i.toDataURL(e,t))}getExportCanvas(){const e=this.pixiApp.renderer.rootRenderTarget,t=e.resolution,i=e.size.width*t,s=e.size.height*t,r=this.getPixelData(0,0,i,s);this.bufferCanvas.width=i,this.bufferCanvas.height=s,this.bufferCanvasContext.clearRect(0,0,i,s);const n=this.bufferCanvasContext.getImageData(0,0,i,s);return n.data.set(r),this.bufferCanvasContext.putImageData(n,0,0),Promise.resolve(this.bufferCanvas)}renderFPS(){const e=this.fpsTimes||[],t=e.length,i=this.debugGraphic;let s=100,r=30,n=Math.round(PIXI.ticker.shared.FPS);t>100&&(n=Math.round((n+e[t-1]+e[t-2])/3)),t>120&&e.shift(),this.fpsTimes.push(n),this.fpsDisplayTime=(29*this.fpsDisplayTime+n)/30,this.debugText.text=` FPS ${Math.round(this.fpsDisplayTime)}`,i.clear(),i.beginFill(16777215),i.drawRect(0,0,344,34),i.beginFill(16711680),i.drawRect(100,0,240,30),i.beginFill(0),i.lineStyle(1,16777215),i.moveTo(s,0);for(var a=e.length-1;a>=2;a--){r=30-(e[a]+e[a-1]+e[a-2])/3/2,i.lineTo(s,r),s+=2}i.lineTo(s,0)}handleAnimationTick(e){const t=(Date.now()-this.animationStartTime)%this.totalAnimationDuration/this.totalAnimationDuration;this.currentAnimationProgress=t,this.currentGraph&&this.render(this.currentGraph,this.currentAnimationProgress)}handleImageLoaded(){this.pendingImageLoadCount--,0===this.pendingImageLoadCount&&this.pixiApp.stage.emit("loading-images-end")}handleImageLoading(){this.pendingImageLoadCount++,1===this.pendingImageLoadCount&&this.pixiApp.stage.emit("loading-images-begin")}isBoundsInDocument(e,t){const i=this.documentWidth,s=this.documentHeight,r=o.default.transformPoint(e.minX,e.minY,t),n=o.default.transformPoint(e.maxX,e.minY,t),a=o.default.transformPoint(e.maxX,e.maxY,t),h=o.default.transformPoint(e.minX,e.maxY,t),l=Math.min(r.x,n.x,a.x,h.x),u=Math.max(r.x,n.x,a.x,h.x),c=Math.min(r.y,n.y,a.y,h.y),d=Math.max(r.y,n.y,a.y,h.y);return!(u<0||d<0||l>i||c>s)}viewStateOfPGMNode(e,t,i,n,h,u=0){const c=s.viewModelDataForPgmNode(e,this.pixiApp.assetLoader),d=s.viewTypeForPgmNode(e),p=t?t.compositing:null,f=JSON.stringify(a.mapValues(c,e=>void 0===e?"":e&&e.encodeJson?e.encodeJson():e));let m=p?p.placement.asArray:l;const g=p?p.opacity:1,x=p?p.blendMode:r.PGMBlendModeEnum.Normal,y=o.default.multiply([],n,m),b=e.bounds,v="text"!==d||this.isBoundsInDocument(b,y),w=e.animations,C=!(!w||w.isEmpty);return{type:d,parentPath:h,path:`${h}:${e.entity}-${d}`,isVisible:v,hasAnimation:C,animations:w,index:u,placement:m,globalPlacement:y,opacity:g,blendMode:x,bounds:b,placementCacheKey:m.join(":"),placementCacheKeySupplement:"",cacheKey:f,cacheKeySupplement:"",data:c}}displayGraphPostorderTraversal(e,t,i,s,n,a,o){const h=this.viewStateOfPGMNode(e,t,i,n,s,o),l=h.isVisible;let u=!1;if(l&&e instanceof r.PGMComposite){let t=0;e.children.forEach((e,s)=>{const r=s-t,n=e.child,o=this.displayGraphPostorderTraversal(n,e,i,h.path,h.globalPlacement,a,r);o.didSubtreeChange&&(u=!0),o.isVisible||t++})}if(h.isDirtySubtree=u,l&&a(h,e),!u){const e=this.viewLookup[h.path];e&&(u=e.isDirty)}return{didSubtreeChange:u,isVisible:l}}removeViewById(e){const t=this.viewLookup[e];t&&(t.destroy(),delete this.viewLookup[e])}setWatermark(e){this.showWatermark=e,this.showWatermark&&!this.watermarkSprite?this.watermarkSprite=new PIXI.Sprite.from(d):!this.showWatermark&&this.watermarkSprite&&this.pixiApp.stage.removeChild(this.watermarkSprite),this.showWatermark&&(this.pixiApp.stage.addChild(this.watermarkSprite),this.watermarkSprite.setTransform(this.documentWidth-p/2,this.documentHeight-f/2,.5,.5,0,0,0,0,0))}setMaxRenderSize(e=1600,t=1600){this.maxRenderWidth=Math.round(e),this.maxRenderHeight=Math.round(t)}setBackgroundColor(e){this.pixiApp.renderer.backgroundColor=e.rgbAsInt}asyncRender(e,t,i){return this.renderQ=this.renderQ.then(()=>(this.setMaxRenderSize(t,i),this.render(e).then(()=>this.canvas)))}render(e,t=0){return new Promise((i,s)=>{this.fulfillRenderPromise(e,t,i,s)}).catch(()=>{})}renderToBuffer(e){return this.render(e).then(()=>this.pixiApp.renderToImage()).then(e=>e.buffer)}fulfillRenderPromise(e,t=0,i,r){if(this.currentGraph=e||this.currentGraph,null===this.currentGraph)return void r();this.documentWidth=this.currentGraph.bounds.width,this.documentHeight=this.currentGraph.bounds.height;const n=this,o=this.viewLookup,h=(this.pixiApp,Object.keys(o)),u=[],c=[],d=[],p=[],f=[],m=this.documentWidth/this.documentHeight,g=function(e,t,i){const s={width:e,height:t};return e/t>i?s.width=Math.round(s.height*i):s.height=Math.round(s.width/i),s}(this.maxRenderWidth,this.maxRenderHeight,m),x=g.width/this.documentWidth;this.currentDocumentAspect===m&&this.currentRenderScale===x||(this.currentRenderScale=x,this.currentDocumentAspect=m,this.pixiApp.renderer.resize(g.width,g.height),this.pixiApp.stage.scale.set(x),this.setWatermark(this.showWatermark)),this.displayGraphPostorderTraversal(this.currentGraph.root,null,t,"root",l,(e,t)=>{const i=e.path,r=h.indexOf(i);r>-1&&h.splice(r,1);let a=o[i];a||(a=s.viewInstanceForPgmNode(t,n),o[i]=a,u.push(a)),a.setState(e),a.isDirtyOrder&&d.push(a),("image"===a.type||a.isDirtyPlacement)&&p.push(a),a.isDirtyFilter&&f.push(a),a.isDirtyRender&&c.push(a)},null),h.forEach(this.removeViewById,this),u.forEach(e=>{const t=o[e.state.parentPath]||this.stageDO;e.setParent(t)},this),d.forEach(e=>{e.order()}),p.forEach(e=>{e.place()}),f.forEach(e=>{e.filter()});const y=c.length;if(0===y)window.requestAnimationFrame(i);else{const e=a.after(y,()=>{window.requestAnimationFrame(i)});c.forEach(t=>{t.render(e)})}}get canvas(){return this.pixiApp.view}get areaOfDocumentBounds(){return this.documentWidth*this.documentHeight}destroy(){h.reset(this.id),this.ticker.remove(this.handleAnimationTick,this),Object.keys(this.viewLookup).forEach(this.removeViewById,this),this.pixiApp.destroyAll()}}m.nextInstanceID=0,t.default=m},"/Amf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("YLtl"),r=i("lzL7");let n=0;class a{constructor(e,t=new PIXI.Container){this.id=`viewid:${n++}`,this.isDirtyOrder=!1,this.isDirtyPlacement=!1,this.isDirtyRender=!1,this.isDirtyFilter=!1,this.isDestroyed=!1,this.children=[],this.filters=[],this._cacheKey="",this._placementCacheKey="",this.pixiApp=e.pixiApp,this.postRenderer=e,this.state={cacheKey:"",placementCacheKey:"",cacheKeySupplement:"",placementCacheKeySupplement:""},this.pixiDisplayObject=t,this.type=Object.getPrototypeOf(this).constructor.TYPE}static modelDataForPgmNode(e,t){return{}}static areaOfBoundsAtDocumentScale(e){if(!e.globalPlacement||!e.bounds)return 0;const t=r.default.decomposeScale(e.globalPlacement),i=e.bounds,s=i.maxX-i.minX,n=i.maxY-i.minY;return s*t.x*(n*t.y)}get globalScale(){return this.state.globalPlacement?r.default.decomposeScale(this.state.globalPlacement):{x:1,y:1}}get localScale(){return this.state.placement?r.default.decomposeScale(this.state.placement):{x:1,y:1}}get isDirty(){return this.isDirtyRender||this.isDirtyPlacement||this.isDirtyOrder}setState(e){const t=e.cacheKey+e.cacheKeySupplement,i=e.placementCacheKey+e.placementCacheKeySupplement;this.isDirtyRender=this._cacheKey!==t,this.isDirtyPlacement=this._placementCacheKey!==i,this.isDirtyOrder=this.state.index!==e.index,this.isDirtyFilter=this.state.opacity!==e.opacity||"filter"===this.type&&this.isDirtyRender,this._placementCacheKey=i,this._cacheKey=t,this.state=e}order(){this.pixiDisplayObject.parent.setChildIndex(this.pixiDisplayObject,this.state.index),this.isDirtyOrder=!1}place(){this.pixiDisplayObject.transform.setFromMatrix(new PIXI.Matrix(...this.state.placement)),this.isDirtyPlacement=!1}render(e){this.isDirtyRender=!1,e&&e()}filter(){if(1!==this.state.opacity){const e=new PIXI.filters.AlphaFilter;e.resolution=this.pixiApp.renderer.resolution,e.alpha=this.state.opacity,this.filters.push(e)}this.pixiDisplayObject.filters=this.filters,this.filters=[],this.isDirtyFilter=!1}bubble(e,t){this.pixiDisplayObject.emit(e,t),this.parent&&this.parent.bubble&&this.parent.bubble(e,t)}removeFromParent(){if(!this.parent)return;const e=this.id;s.remove(this.parent.children,t=>t.id===e),this.parent.pixiDisplayObject.removeChild(this.pixiDisplayObject),this.parent=void 0}setParent(e){!this.parent&&e||this.removeFromParent(),e&&(this.parent=e,e.children.push(this),e.pixiDisplayObject.addChild(this.pixiDisplayObject))}destroy(){this.removeFromParent(),this.isDestroyed=!0,this.pixiDisplayObject.filters&&(this.pixiDisplayObject.filters=null),this.pixiDisplayObject.destroy(),this.filters=[],this.state=null}}a.TYPE="post-display-object",t.default=a},"0gjg":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{static parseHexFromInt(e){var t=e.toString(16);return 1===t.length?"0"+t:t}static rgb2hex(e){return this.parseHexFromInt(Math.round(255*e.red))+this.parseHexFromInt(Math.round(255*e.green))+this.parseHexFromInt(Math.round(255*e.blue))}static rgba2css({red:e,green:t,blue:i,alpha:s=1}){return`rgba(${Math.round(255*e)},${Math.round(255*t)},${Math.round(255*i)},${s})`}static rgb2ValidCSSValues(e){return{red:Math.round(e.red),green:Math.round(e.green),blue:Math.round(e.blue),alpha:e.alpha||1}}static toCSS(e){if(!e)return"#000000";if(void 0!==e.red||void 0!==e.r){var t=void 0!==e.red?e.red:e.r,i=void 0!==e.green?e.green:e.g,r=void 0!==e.blue?e.blue:e.b,n=void 0!==e.alpha?e.alpha:e.a,a=this.rgb2ValidCSSValues({red:t,green:i,blue:r,alpha:n});return"rgba("+a.red+","+a.green+","+a.blue+","+(void 0===n?1:n)+")"}return"string"==typeof e&&6===e.length?"#"+e:"string"==typeof e&&e.match(new RegExp("^#[0-9a-fA-F]{6}$"))?e:"number"==typeof e?"#"+s.parseHexFromInt(e):"#000000"}static solidColor2Rgba(e){return e?{red:Math.floor(255*e.red),green:Math.floor(255*e.green),blue:Math.floor(255*e.blue),alpha:e.alpha}:null}}t.default=s},"213o":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf"),r=i("hxFN"),n=i("fziT"),a=i("5m7E"),o=i("pMCj"),h=i("JuUW"),l=i("LBjK"),u=i("3HR0"),c=i("au89");class d extends s.default{constructor(e){super(e),this.imageIsLoaded=!1,this.pixiDisplayObject.on("image-not-loaded",this.handleSubtreeImageLoading,this),this.pixiDisplayObject.on("image-loaded",this.handleSubtreeImageLoaded,this)}static modelDataForPgmNode(e){return{spec:e.spec}}handleSubtreeImageLoading(){this.imageIsLoaded=!1}handleSubtreeImageLoaded(){this.imageIsLoaded=!0,this.place(),this.filter()}place(){this.imageIsLoaded&&super.place()}filter(){const e=this.state.data.spec,t=this.pixiApp.renderer.resolution;if(void 0===e)return;const i=Object.getPrototypeOf(e).constructor.TYPE;switch(i){case"PGMDuotoneFilterSpec":this.filters.push(new n.default(e.intensity,[e.darkColor.red,e.darkColor.green,e.darkColor.blue],[e.lightColor.red,e.lightColor.green,e.lightColor.blue],t));break;case"PGMFillFilterSpec":this.filters.push(new a.default([e.filterColor.red,e.filterColor.green,e.filterColor.blue,e.filterColor.alpha],t));break;case"PGMScreenFilterSpec":this.filters.push(new o.default([e.filterColor.red,e.filterColor.green,e.filterColor.blue],t));break;case"PGMOverlayFilterSpec":this.filters.push(new h.default([e.filterColor.red,e.filterColor.green,e.filterColor.blue],t));break;case"PGMColorTransformFilterSpec":this.filters.push(new r.default([e.rdot.red,e.rdot.green,e.rdot.blue,e.rdot.alpha,e.gdot.red,e.gdot.green,e.gdot.blue,e.gdot.alpha,e.bdot.red,e.bdot.green,e.bdot.blue,e.bdot.alpha,e.adot.red,e.adot.green,e.adot.blue,e.adot.alpha],[e.bias.red,e.bias.green,e.bias.blue,e.bias.alpha],t));break;case"PGMColorAdjustmentFilterSpec":this.filters.push(new l.default(e,t));break;case"PGMBlurFilterSpec":const s=this.pixiApp.stage.scale.x,d=6*e.scaledBlur*s,p=e.edgeClamp;if(d>=1){const e=Math.max(4,Math.min(15,Math.floor(d/2))),i=d/5,s=new c.KawaseBlurFilter(i,e,p);s.padding=p?0:Math.ceil(6*i),i<2.5&&(s.resolution=t),this.filters.push(s)}break;case"PGMBlendFilterSpec":if(2!==e.weights.length)console.error("Unsupported multiple blend filter");else if(this.children.length!==e.weights.length)console.error("Weights and children are of different length");else{const i=this.children[0].imageSprite;i&&this.filters.push(new u.default(i,e.weights[0],e.weights[1],t))}break;default:console.error("apply unknown filter",i)}super.filter()}setState(e){e.cacheKeySupplement=`scale:${this.pixiApp.stage.scale.x}`,super.setState(e)}}d.TYPE="filter",t.default=d},"3HR0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="\nprecision lowp float;\n\nvarying highp vec2 vTextureCoord;\n\n// Params for the first texture.\nuniform float weight0;\nuniform sampler2D texture0;\nuniform mat3 filterMatrix0;\n\n// Params for the second texture -- provided by Pixi and the name is fixed.\n// Furthermore the uvCoords are built for this one, so no matrix needed.\nuniform float weight1;\nuniform sampler2D inputImageTexture;\n\nvoid main()\n{\n    vec2 texCoord0 = (filterMatrix0 * vec3(vTextureCoord, 1)).xy;\n    lowp vec4 c0 = texture2D(texture0, texCoord0);\n    lowp vec4 c1 = texture2D(inputImageTexture, vTextureCoord);\n    lowp vec4 c2 = weight0 * c0 + weight1 * c1;\n    lowp vec4 c3 = vec4(\n                    c2.r * c2.a * c1.a * c0.a,\n                    c2.g * c2.a * c1.a * c0.a,\n                    c2.b * c2.a * c1.a * c0.a,\n                    c2.a * c1.a * c0.a\n                    );\n    gl_FragColor = c3;\n}\n\n";class r extends PIXI.Filter{constructor(e,t,i,r=1){super(null,s,{weight0:{type:"float",value:t},weight1:{type:"float",value:i},texture0:{type:"sampler2d",value:e.texture},filterMatrix0:{type:"mat3",value:null}}),this.sprite0=e,this.resolution=r}apply(e,t,i,s){const r=new PIXI.Matrix;this.uniforms.filterMatrix0=e.calculateSpriteMatrix(r,this.sprite0),super.apply(e,t,i,s)}}t.default=r},"3hRk":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this.type=e}}t.FrameEvent=s;class r extends s{constructor(e,t,i,s,n){super(r.TYPE),this.frameIndex=e,this.time=t,this.buffer=i,this.width=s,this.height=n}}r.TYPE="frame",t.FrameDataEvent=r;class n extends s{constructor(){super(n.TYPE)}}n.TYPE="complete",t.FrameProductionCompleteEvent=n;class a extends s{constructor(){super(a.TYPE)}}a.TYPE="canceled",t.FrameProductionCanceledEvent=a},"3r1R":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf");class r extends s.default{}r.TYPE="page",t.default=r},"5m7E":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="\nprecision lowp float;\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D inputImageTexture;\nuniform vec4 filterColor;\n\nvoid main()\n{\n    lowp vec4 textureColor = texture2D(inputImageTexture, vTextureCoord);\n    gl_FragColor = vec4(\n                    filterColor.r * textureColor.a,\n                    filterColor.g * textureColor.a,\n                    filterColor.b * textureColor.a,\n                    textureColor.a\n                    );\n\n}\n";class r extends PIXI.Filter{constructor(e,t=1){super(null,s,{filterColor:{type:"vec4",value:new Float32Array(e)}}),this.resolution=t}}t.default=r},"6ygk":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("zrCk"),r=i("hhcO"),n=i("z8uW");t.PixiRenderer=class{constructor(e){this.imageService=new s.PixiImageService(this),this.liveViewService=new r.PixiLiveViewService(this),this.frameProductionService=new n.PixiFrameProductionService(this),this.host=e}}},"7Lnb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{static registerPNGEncoder(e){s._pngEncoder=e}static registerJPEGEncoder(e){s._jpegEncoder=e}static getRegisteredPNGEncoder(){return s._pngEncoder}static getRegisteredJPEGEncoder(){return s._jpegEncoder}}s._pngEncoder=null,s._jpegEncoder=null,t.ImageEncoderRegistry=s},"7frk":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("CkXF"),r=i("wYSo");class n extends s.default{constructor(e){super(e),this.maskContainer=new PIXI.Container,this.maskContentTransform=new PIXI.Container,this.maskingSprite=new PIXI.Sprite,this.maskBacking=new PIXI.Graphics,this.maskTextureBounds=new PIXI.Rectangle(0,0,1,1),this.isInitialized=!1,this.isInRenderQ=!1,this.currentRenderWidth=0,this.currentRenderHeight=0}onFirstRenderInit(){this.maskContainer.addChild(this.maskBacking,this.maskContentTransform),this.pixiApp.stage.addChild(this.maskingSprite),this.artwork=this.pixiDisplayObject.children[0],this.mask=this.pixiDisplayObject.children[1],this.maskContentTransform.addChild(this.mask),this.artwork.mask=this.maskingSprite,this.mask.on("image-loaded",()=>this.updateMaskTexture())}deferredRender(){this.isDestroyed||this.updateMaskTexture(),this.isInRenderQ=!1,this.notifyLoaded()}renderMask(e,t){if(e===this.currentRenderWidth&&t===this.currentRenderHeight)return;const i=this.pixiApp.stage.scale.x;this.currentRenderWidth=e,this.currentRenderHeight=t,this.maskContainer.scale.set(i),this.maskBacking.clear(),this.maskBacking.beginFill(16777215),this.maskBacking.drawRect(0,0,e/i,t/i),this.maskBacking.endFill(),this.maskTextureBounds.width=e,this.maskTextureBounds.height=t}render(e){this.isInitialized||(this.onFirstRenderInit(),this.isInitialized=!0),this.updateMaskTexture(),!this.isInRenderQ&&r.default.instance.hasItemsInQueue()?(this.addLoadHandler(e),this.isInRenderQ=!0,r.default.instance.addLowPriority(this.deferredRender.bind(this)),super.render()):super.render(e)}updateMaskTexture(){this.renderMask(this.pixiApp.renderer.width,this.pixiApp.renderer.height),this.maskingSprite.texture&&this.maskingSprite.texture.destroy(!0);const e=new PIXI.Matrix(...this.state.globalPlacement);this.maskContentTransform.transform.setFromMatrix(e),this.maskingSprite.scale.set(1/this.pixiApp.stage.scale.x),this.maskingSprite.texture=this.pixiApp.renderer.generateTexture(this.maskContainer,PIXI.settings.SCALE_MODE,this.pixiApp.renderer.resolution,this.maskTextureBounds)}destroy(){this.maskingSprite.destroy(),this.maskBacking.destroy(),this.maskContainer.destroy(),this.maskContentTransform.destroy(),this.artwork=null,this.mask=null,super.destroy()}setState(e){e.cacheKeySupplement=`scale:${this.pixiApp.stage.scale.x},placement:${e.globalPlacement.join(",")}`,e.isDirtySubtree&&(e.cacheKeySupplement+=`,dirtySubtree:${Date.now()}`),super.setState(e)}}n.TYPE="luminosity-mask",t.default=n},CkXF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf");class r extends s.default{constructor(e){super(e),this.onLoadHandlers=null}addLoadHandler(e){e&&(this.onLoadHandlers?this.onLoadHandlers.push(e):this.onLoadHandlers=[e])}notifyLoaded(){this.onLoadHandlers&&(this.onLoadHandlers.forEach(e=>e()),this.onLoadHandlers=null)}}t.default=r},"DAf/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UnintelligentAssetLoader=class{getURLforContentID(e){return e}};t.NoOpPixiLoaderPlugin=class{pre(e,t){t()}use(e,t){t()}}},IHB5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("hUdH"),r=i("7frk"),n=i("eoxN"),a=i("S6GI"),o=i("vKWb"),h=i("3r1R"),l=i("vDtG"),u=i("kQtw"),c=i("213o"),d=i("UzQk"),p=u.default.TYPE,f={[s.default.TYPE]:s.default,[r.default.TYPE]:r.default,[n.default.TYPE]:n.default,[a.default.TYPE]:a.default,[o.default.TYPE]:o.default,[h.default.TYPE]:h.default,[l.default.TYPE]:l.default,[u.default.TYPE]:u.default,[c.default.TYPE]:c.default};function m(e){return f[g(e)]||f[p]}function g(e){let t=e.type.replace("pgm-","");return e instanceof d.PGMFilter&&"PGMMaskFilterSpec"===Object.getPrototypeOf(e.spec).constructor.TYPE&&(t="luminosity-mask"),t}t.viewTypeForPgmNode=g,t.viewInstanceForPgmNode=function(e,t){return new(m(e))(t)},t.viewModelDataForPgmNode=function(e,t){return m(e).modelDataForPgmNode(e,t)}},JuUW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="\nprecision lowp float;\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D inputImageTexture;\nuniform vec3 filterColor;\n\n\nvoid main()\n{\n    lowp vec4 textureColor = texture2D(inputImageTexture, vTextureCoord);\n\n    //lowp vec4 inputColor = (textureColor + 0.5) * 0.5;\n    lowp vec4 inputColor = textureColor;\n\n\n    gl_FragColor = vec4(\n                    (inputColor.r < 0.5 ? (2.0 * inputColor.r * filterColor.r) : (1.0 - 2.0 * (1.0 - inputColor.r) * (1.0 - filterColor.r))) * textureColor.a,\n                    (inputColor.g < 0.5 ? (2.0 * inputColor.g * filterColor.g) : (1.0 - 2.0 * (1.0 - inputColor.g) * (1.0 - filterColor.g))) * textureColor.a,\n                    (inputColor.b < 0.5 ? (2.0 * inputColor.b * filterColor.b) : (1.0 - 2.0 * (1.0 - inputColor.b) * (1.0 - filterColor.b))) * textureColor.a,\n                    textureColor.a\n                    );\n}\n";class r extends PIXI.Filter{constructor(e,t=1){super(null,s,{filterColor:{type:"vec3",value:new Float32Array(e)}}),this.resolution=t}}t.default=r},LBjK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("UzQk"),r=i("p17C"),n="\nprecision highp float;\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D inputImageTexture;\n\nuniform sampler2D u_colorShadowsHighlightsSampler;\nuniform sampler2D u_threeChannelColorMapSampler;\nuniform mat4 u_colorMatrix;\n\nvoid main(void) {\n    vec4 color = texture2D(inputImageTexture, vTextureCoord);\n\n    color.r = texture2D(u_colorShadowsHighlightsSampler, vec2(0.0, color.r)).r;\n    color.g = texture2D(u_colorShadowsHighlightsSampler, vec2(0.0, color.g)).r;\n    color.b = texture2D(u_colorShadowsHighlightsSampler, vec2(0.0, color.b)).r;\n\n    float intensity = 0.3 * color.r + 0.59 * color.g + 0.11 * color.b;\n\n    float shDiff = texture2D(u_colorShadowsHighlightsSampler, vec2(0.0, intensity)).g - intensity;\n\n    color.rgb += shDiff;\n\n    color.rgb = clamp(color.rgb, 0.0, 1.0);\n\n    vec4 colorMatrixRGB = vec4(color.rgb, 1.0);\n\n    colorMatrixRGB = colorMatrixRGB * u_colorMatrix;\n\n    colorMatrixRGB = clamp(colorMatrixRGB, 0.0, 1.0);\n\n    colorMatrixRGB.r = texture2D(u_threeChannelColorMapSampler, vec2(0.0, colorMatrixRGB.r)).r;\n    colorMatrixRGB.g = texture2D(u_threeChannelColorMapSampler, vec2(0.0, colorMatrixRGB.g)).g;\n    colorMatrixRGB.b = texture2D(u_threeChannelColorMapSampler, vec2(0.0, colorMatrixRGB.b)).b;\n\n    gl_FragColor = vec4(\n        colorMatrixRGB.r * color.a,\n        colorMatrixRGB.g * color.a,\n        colorMatrixRGB.b * color.a,\n        color.a\n    );\n}\n";class a extends PIXI.Filter{constructor(e,t=1){var i=s.MoaAdjustments.computeColorMaps(e),a=new Uint8ClampedArray(1024);for(let e=0;e<256;e++){const t=4*e;a[t]=i.colorMap[e]+.5|0,a[t+1]=i.sMap[e]+i.hMap[e]-e+.5|0,a[t+2]=0,a[t+3]=255}for(let e=0;e<4;e++)i.cm.push(0);var o=new Uint8ClampedArray(1024);for(let e=0;e<256;e++){const t=4*e;o[t]=i.threeChannelColorMap[0][e],o[t+1]=i.threeChannelColorMap[1][e],o[t+2]=i.threeChannelColorMap[2][e],o[t+3]=255}const h=new PIXI.Container,l=r.default.getRGBADataAsSprite(1,256,a,h),u=r.default.getRGBADataAsSprite(1,256,o,h),c=i.cm;super(null,n,{u_colorShadowsHighlightsSampler:{type:"sampler2D",value:l.texture},u_threeChannelColorMapSampler:{type:"sampler2D",value:u.texture},u_colorMatrix:{type:"mat4",value:new Float32Array(c)}}),this.resolution=t,this.container=h,this.shadowHighlightSprite=l,this.threeChannelSprite=u}destroy(){this.shadowHighlightSprite.destroy(),this.threeChannelSprite.destroy(),this.container.destroy(),this.shadowHighlightSprite=null,this.threeChannelSprite=null,this.container=null}}t.default=a},Lkow:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i("kSzJ");const s=i("6ygk"),r=i("Xw6L");t.WebAssetLoader=class{constructor(e){this.urlBuilder=e}getURLforContentID(e){return this.urlBuilder.decodeUrl(e)}};class n extends s.PixiRenderer{constructor(){super(new r.PixiWebHost)}}t.PixiJSRenderer=n;const a=i("xGui");t.PixiJSApp=a},RyLA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("0gjg"),r=.5522848;t.default=class{constructor(e,t){this.ctx=e,this.colorTable=t,this.filled=!1,this.ctx.beginPath()}beginGroup(){}endGroup(){}beginClipGroup(e){}endClipGroup(){}fill(e,t){}stroke(e,t,i){this.ctx.lineWidth=i,t=t||this.colorTable.color(e),this.ctx.strokeStyle=s.default.toCSS(s.default.solidColor2Rgba(t)),this.ctx.stroke()}rectangle(e,t,i,s){this.ctx.rect(e,t,i-e,s-t)}ellipse(e,t,i,s){var n=i-e,a=s-t,o=n/2*r,h=a/2*r,l=e+n/2,u=t+a/2;this.ctx.moveTo(e,u),this.ctx.bezierCurveTo(e,u-h,l-o,t,l,t),this.ctx.bezierCurveTo(l+o,t,i,u-h,i,u),this.ctx.bezierCurveTo(i,u+h,l+o,s,l,s),this.ctx.bezierCurveTo(l-o,s,e,u+h,e,u),this.ctx.closePath()}newPath(e,t,i,s,r){this.ctx.beginPath(),this.fillRule=e,this.endCap=t,this.join=i,this.strokeWt=s,this.miterLimit=r}moveTo(e,t){this.ctx.moveTo(e,t)}lineTo(e,t){this.ctx.lineTo(e,t)}cubicBezier(e,t,i,s,r,n){this.ctx.bezierCurveTo(e,t,i,s,r,n)}quadraticBezier(e,t,i,s){this.ctx.quadraticCurveTo(e,t,i,s)}closePath(){this.ctx.closePath()}done(){}}},S6GI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf");class r extends s.default{constructor(e){super(e,new PIXI.Graphics)}render(e){const t=this.pixiDisplayObject,i=this.state.data;t.clear(),t.rotation=i.rotation,t.beginFill(i.color),t.drawRect(0,0,i.width,i.height),t.endFill(),t.position.set(i.x,i.y),super.render(e)}}r.TYPE="rectangle",t.default=r},Xw6L:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("jsS/");t.PixiWebHost=class{constructor(){}createPixiApp(e,t){return new s.PixiWebApplication(e,t)}}},bNrw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=[1,0,0,1,0,0],r=1024;function n(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}class a{constructor(){this.width=1,this.height=1,this.tracking=0,this.fontSize=0,this.strokeWidth=0,this.fillColor="rgba(0, 0, 0, 1)",this.strokeColor="rgba(0, 0, 0, 0)",this.text="",this.font="",this.transform=s,this.isPowerOfTwo=!0,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=10,this.canvas.height=10,this.context.textAlign="left",this.context.textBaseline="alphabetic"}begin(){return this.context.save(),this}end(){return this.context.restore(),this}setSize(e,t){return this.width=Math.ceil(e),this.height=Math.ceil(t),this}setTransform(e){return this.transform=e,this}setText(e){return this.text=e,this}setTracking(e){return this.tracking=e||0,this}setFontSize(e){return this.fontSize=e,this}setFont(e){return this.font=e,this}setFillColor(e){return this.fillColor=e,this}setStrokeColor(e){return this.strokeColor=e,this}setStrokeWidth(e){return this.strokeWidth=e,this}getCanvas(){return this.canvas}disable(){return this.canvas.width=1,this.canvas.height=1,this}destroy(){return this.canvas=null,this.context=null,this}getNextPosition(e){var t=0;const i=this.text.charAt(e);if(e<this.text.length-1){var s=this.text.charAt(e+1),r=this.context.measureText(s).width;t+=this.context.measureText(i+s).width-r,t+=this.tracking*this.fontSize}return t}render(){const e=this.width>r,t=this.height>r;this.isPowerOfTwo=!e&&!t,this.canvas.width=e?this.width:n(this.width),this.canvas.height=t?this.height:n(this.height),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.transform.apply(this.context,this.transform),this.context.font=this.font,this.fillColor&&(this.context.fillStyle=this.fillColor),this.strokeColor&&(this.context.strokeStyle=this.strokeColor),this.strokeWidth&&(this.context.lineWidth=this.strokeWidth,this.strokeWidth/this.fontSize>.06&&(this.context.lineJoin="round"),this.strokeWidth/this.fontSize>.02?this.context.miterLimit=2:this.strokeWidth>.01&&(this.context.miterLimit=5));let i=0,s=0;const a=this.context.lineWidth/2;if(0===this.tracking)this.strokeWidth?(i+=a,s-=a,this.fillColor?(this.context.strokeText(this.text,i,s),this.context.fillText(this.text,i,s)):(this.context.strokeText(this.text,i,s),this.context.globalAlpha=1,this.context.globalCompositeOperation="destination-out",this.context.fillText(this.text,i,s),this.context.globalCompositeOperation="source-over")):this.context.fillText(this.text,i,s);else{const e=this.text.length;for(var o=0;o<e;o++){const e=this.text.charAt(o);if(this.strokeWidth){const t=i+a,r=s-a;this.fillColor?(this.context.strokeText(e,t,r),this.context.fillText(e,t,r)):(this.context.strokeText(e,t,r),this.context.globalAlpha=1,this.context.globalCompositeOperation="destination-out",this.context.fillText(e,t,r),this.context.globalCompositeOperation="source-over")}else this.context.fillText(e,i,s);i+=this.getNextPosition(o)}}return this}}a.instance=new a,t.default=a},eoxN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf"),r=i("xtw7"),n=i("0gjg"),a=i("lzL7");class o extends s.default{constructor(e){super(e),this.textureSource=new r.default,this.transform=new PIXI.Transform,this.textureSharpness=1,this.shouldClipRenderToDocumentBounds=!1,this.baseTexture=new PIXI.BaseTexture(this.textureSource.getCanvas()),this.baseTexture.mipmap=!1,this.texture=new PIXI.Texture(this.baseTexture),this.sprite=new PIXI.Sprite(this.texture),this.pixiDisplayObject.addChild(this.sprite)}static modelDataForPgmNode(e){const t=e.bounds,i=e.paths.reduce((e,t)=>("none"===t.pathFillType&&t.pathStrokeWeight>0&&(e=Math.max(e,t.pathStrokeWeight/2)),e),0);return{color:e.color?n.default.rgba2css(e.color):"#0099ff",paths:e.paths,x:t.minX,y:t.minY,width:t.width,height:t.height,paddingX:i,paddingY:i}}place(){const e=a.default.decompose(this.state.placement),t=e.position,i=e.rotation,s=e.scale,r=e.skew;this.shouldClipRenderToDocumentBounds?this.pixiDisplayObject.setTransform(t.x,t.y,s.x,s.y,i,r.x,r.y,0,0):this.pixiDisplayObject.setTransform(t.x,t.y,1,1,i,r.x,r.y,0,0),this.isDirtyPlacement=!1}renderShapeAtOwnBounds(){const e=this.state.data,t=this.pixiApp.stage.scale.x,i=this.globalScale,s=this.localScale,r=i.x,n=i.y,a=s.x,o=s.y,h=t*this.textureSharpness*this.pixiApp.renderer.resolution,l=h*r,u=h*n,c=(e.x-e.paddingX)*a,d=(e.y-e.paddingY)*o,p=a*(1/l),f=o*(1/u),m=e.width*l+e.paddingX*l*2,g=e.height*u+e.paddingY*u*2,x=[l,0,0,u,l*(e.paddingX-e.x),u*(e.paddingY-e.y)];this.textureSource.setSize(m,g).setTransform(x),this.sprite.texture.update(),this.sprite.setTransform(c,d,p,f,0,0,0,0,0)}renderShapeClippedToDocumentBounds(){const e=this.postRenderer.documentWidth,t=this.postRenderer.documentHeight,i=this.pixiApp.stage.scale.x*this.textureSharpness*this.pixiApp.renderer.resolution,s=e*i,r=t*i,n=a.default.getScalingTransform(i,i),o=a.default.multiply([],n,this.state.globalPlacement),h=a.default.invert([],o);this.textureSource.setSize(s,r).setTransform(o),this.sprite.texture.update();const l=a.default.decompose(h),u=l.position,c=l.rotation,d=l.scale,p=l.skew;this.sprite.setTransform(u.x,u.y,d.x,d.y,c,p.x,p.y,0,0)}render(e){const t=this.state.data,i=this.baseTexture,s=this.texture;this.textureSource.begin(),this.shouldClipRenderToDocumentBounds?this.renderShapeClippedToDocumentBounds():this.renderShapeAtOwnBounds(),this.textureSource.setColor(t.color).setPaths(t.paths).render().end(),i.realWidth=i.source.width,i.realHeight=i.source.height,i.width=i.realWidth/i.resolution,i.height=i.realHeight/i.resolution,i.isPowerOfTwo=this.textureSource.isPowerOfTwo,s._updateID++,s._frame.width=i.width,s._frame.height=i.height,this.pixiApp.renderer.textureManager.updateTexture(i),super.render(e)}setState(e){if(!e.bounds)return;this.shouldClipRenderToDocumentBounds=this.postRenderer.areaOfDocumentBounds<s.default.areaOfBoundsAtDocumentScale(e);const t=a.default.decomposeScale(e.globalPlacement);e.cacheKeySupplement=":"+this.pixiApp.stage.scale.x+":"+Math.round(100*t.x)/100+":"+Math.round(100*t.y)/100,this.shouldClipRenderToDocumentBounds&&(e.cacheKeySupplement+=":"+e.globalPlacement.join(",")),super.setState(e)}destroy(){this.sprite.destroy(),this.textureSource.destroy(),super.destroy()}}o.TYPE="shape",t.default=o},fziT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="\nprecision lowp float;\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D inputImageTexture;\nuniform float intensity;\nuniform vec3 firstColor;\nuniform vec3 secondColor;\n\nconst mediump vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvec4 duotone(vec4 colorIn) {\n    float luminance = dot(colorIn.rgb, luminanceWeighting);\n    lowp vec4 outputColor = vec4( mix(firstColor.rgb, secondColor.rgb, luminance), colorIn.a);\n    outputColor.r = outputColor.r * colorIn.a;\n    outputColor.g = outputColor.g * colorIn.a;\n    outputColor.b = outputColor.b * colorIn.a;\n    return vec4( mix(colorIn.rgb, outputColor.rgb, intensity), colorIn.a);\n}\n\nvoid main()\n{\n    lowp vec4 textureColor = texture2D(inputImageTexture, vTextureCoord);\n    gl_FragColor = duotone(textureColor);\n}\n";class r extends PIXI.Filter{constructor(e,t,i,r=1){super(null,s,{intensity:{type:"float",value:e},firstColor:{type:"vec3",value:new Float32Array(t)},secondColor:{type:"vec3",value:new Float32Array(i)}}),this.resolution=r}}t.default=r},hUdH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("CkXF"),r=i("sodY");var n;!function(e){e.NOT_LOADED="not_loaded",e.LOADING="loading",e.LOADED="loaded"}(n||(n={}));const a=r.default.instance;class o extends s.default{constructor(e){super(e),this.imageSprite=null,this.status=n.NOT_LOADED,this.currentUrl=null}static modelDataForPgmNode(e,t){return{url:t.getURLforContentID(e.contentID),top:e.bounds.minY,left:e.bounds.minX,width:e.bounds.width,height:e.bounds.height}}handleTextureLoaded(e){this.isDestroyed||(this.status=n.LOADED,this.imageSprite?this.imageSprite.texture=e:(this.imageSprite=new PIXI.Sprite(e),this.pixiDisplayObject.addChild(this.imageSprite)),this.place(),this.bubble("image-loaded"),this.notifyLoaded())}load(){this.bubble("image-loading"),this.status=n.LOADING,a.load(this.state.data.url,this.handleTextureLoaded.bind(this),this.pixiApp.assetLoader,this.postRenderer.id)}place(){if(this.status!==n.LOADED)return;const e=this.globalScale,t=this.pixiApp.stage.scale.x,i=this.pixiApp.stage.scale.x,s=t*e.x,r=i*e.y,a=this.state.globalPlacement[4],o=this.state.globalPlacement[5],h=this.imageSprite.texture.width,l=this.imageSprite.texture.height,u=this.state.data.width/h,c=this.state.data.height/l,d=t*a,p=i*o,f=(Math.floor(d)-d)/s,m=(Math.floor(p)-p)/r,g=h*s,x=l*r,y=Math.ceil(g)/g,b=Math.ceil(x)/x;this.imageSprite.scale.x=y*u,this.imageSprite.scale.y=b*c,this.imageSprite.position.x=f,this.imageSprite.position.y=m,super.place()}render(e){!e||this.status!==n.NOT_LOADED&&this.status!==n.LOADING||this.addLoadHandler(e),this.isDirtyRender&&this.status===n.NOT_LOADED?this.load():this.status===n.LOADED&&e&&e(),super.render()}setState(e){e.data&&this.currentUrl!==e.data.url&&(this.currentUrl=e.data.url,this.status=n.NOT_LOADED,this.bubble("image-not-loaded")),e.placementCacheKeySupplement=`${e.globalPlacement.join(",")}:${this.pixiApp.stage.scale.x}`,super.setState(e)}destroy(){this.imageSprite&&this.imageSprite.destroy(),super.destroy()}}o.TYPE="image",t.default=o},hhcO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("+5yP");class r{constructor(e,t,i,r=!1,n=!1){this.api=e,this.headless=new s.default(e.host,t,i,r,n)}destroy(){this.headless.destroy()}getCanvas(){return this.headless.canvas}setDimensions(e,t){this.headless.setMaxRenderSize(e,t),this.headless.render(this.headless.currentGraph)}render(e){return this.headless.render(e)}asyncRender(e,t,i){return this.headless.asyncRender(e,t,i)}setWatermark(e){return this.headless.setWatermark(e)}getColorAtPoint(e){return this.headless.getColorAtPoint(e)}getRenditionBlob(e="image/jpeg",t=.75){return this.headless.getRenditionBlob(e,t)}getRenditionDataUrl(e="image/jpeg",t=.75){return this.headless.getRenditionDataUrl(e,t)}}t.PixiLiveViewService=class{constructor(e){this.api=e}createView(e=1,t=!1,i=!1){return new r(this.api,e,this.api.assetLoader,t,i)}}},hxFN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="\nprecision lowp float;\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D inputImageTexture;\nuniform mat4 colorMatrix;\nuniform vec4 colorBias;\n\nvec4 colorTransform(vec4 colorIn) {\n    return colorMatrix * colorIn + colorBias;\n}\n\nvoid main()\n{\n    lowp vec4 textureColor = texture2D(inputImageTexture, vTextureCoord);\n    gl_FragColor = colorTransform(textureColor);\n}\n";class r extends PIXI.Filter{constructor(e,t,i=1){super(null,s,{colorMatrix:{type:"mat4",value:new Float32Array(e)},colorBias:{type:"vec4",value:new Float32Array(t)}}),this.resolution=i}}t.default=r},"jsS/":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});class i extends PIXI.Application{constructor(e,t){super(e),this.assetLoader=t}setSize(e,t){this.view.width=e,this.view.height=t}render(){return new Promise((e,t)=>{this.renderer.once("postrender",()=>{e()}),this.renderer.render(this.stage)})}renderToImage(){return new Promise((t,i)=>{this.renderer.once("postrender",()=>{const i=this.view.width,s=this.view.height;let r;if(this.renderer instanceof PIXI.WebGLRenderer){const t=this.renderer.gl;r=e.alloc(i*s*4),t.readPixels(0,0,i,s,t.RGBA,t.UNSIGNED_BYTE,r),function(e,t,i){for(var s=0;s<i/2;s++){let n=s*t*4,a=(i-1-s)*t*4;for(var r=4*t;r>0;r--,n++,a++){let t=e[n];e[n]=e[a],e[a]=t}}}(r,i,s)}else{const t=this.renderer.rootContext.getImageData(0,0,i,s).data;r=e.from(t.buffer)}t({buffer:r,width:i,height:s})}),this.renderer.render(this.stage)})}destroyAll(){this.destroy(!0,{children:!0,texture:!0,baseTexture:!0})}}t.PixiWebApplication=i}).call(this,i("HDXh").Buffer)},kQtw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf");class r extends s.default{}r.TYPE="group",t.default=r},lzL7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static get defaultMatrix(){return[1,0,0,1,0,0]}static getScalingTransform(e,t){return[e,0,0,t,0,0]}static scale(e,t,i){const s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=i[0],u=i[1];return e[0]=s*l,e[1]=r*l,e[2]=n*u,e[3]=a*u,e[4]=o,e[5]=h,e}static multiply(e,t,i){const s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=i[0],u=i[1],c=i[2],d=i[3],p=i[4],f=i[5];return e[0]=s*l+n*u,e[1]=r*l+a*u,e[2]=s*c+n*d,e[3]=r*c+a*d,e[4]=s*p+n*f+o,e[5]=r*p+a*f+h,e}static transformPoint(e,t,i){return{x:e*i[0]+t*i[2]+i[4],y:e*i[1]+t*i[3]+i[5]}}static translate(e,t,i){const s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],h=t[5],l=i[0],u=i[1];return e[0]=s,e[1]=r,e[2]=n,e[3]=a,e[4]=s*l+n*u+o,e[5]=r*l+a*u+h,e}static invert(e,t){const i=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5];let h=i*n-s*r;return h?(h=1/h,e[0]=n*h,e[1]=-s*h,e[2]=-r*h,e[3]=i*h,e[4]=(r*o-n*a)*h,e[5]=(s*a-i*o)*h,e):null}static decompose(e){const t=e[0],i=e[1],s=e[2],r=e[3],n=e[4],a=e[5],o=-Math.atan2(-s,r),h=Math.atan2(i,t),l=Math.abs(o+h),u=l<1e-5||Math.abs(2*Math.PI-l)<1e-5;return{skew:{x:u?0:o,y:u?0:h},scale:{x:Math.sqrt(t*t+i*i),y:Math.sqrt(s*s+r*r)},position:{x:n,y:a},rotation:u?h:0}}static decomposeScale(e){const t=e[0],i=e[1],s=e[2],r=e[3];return{x:Math.sqrt(t*t+i*i),y:Math.sqrt(s*s+r*r)}}}},p17C:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{}t.default=class{static getRGBADataAsSprite(e,t,i,r){const n=document.createElement("canvas");n.width=e,n.height=t;const a=n.getContext("2d"),o=a.getImageData(0,0,e,t);if(i.length!==o.data.length)throw new s;o.data.set(i),a.putImageData(o,0,0);const h=PIXI.Sprite.from(n);return r.addChild(h),h}}},pMCj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="\nprecision lowp float;\n\nvarying highp vec2 vTextureCoord;\n\nuniform sampler2D inputImageTexture;\nuniform vec3 filterColor;\n\nconst highp vec3 W = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main()\n{\n\tlowp vec4 textureColor = texture2D(inputImageTexture, vTextureCoord);\n\t//float luminance = dot(textureColor.rgb, W);\n\n  gl_FragColor = vec4(\n\t\t(1.0 - ((1.0 - textureColor.r) * (1.0 - filterColor.r))) * textureColor.a,\n\t\t(1.0 - ((1.0 - textureColor.g) * (1.0 - filterColor.g))) * textureColor.a,\n\t\t(1.0 - ((1.0 - textureColor.b) * (1.0 - filterColor.b))) * textureColor.a,\n\t\ttextureColor.a);\n}\n";class r extends PIXI.Filter{constructor(e,t=1){super(null,s,{filterColor:{type:"vec3",value:new Float32Array(e)}}),this.resolution=t}}t.default=r},sodY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){this.textureCache={},this.deferredCallbacks={}}load(e,t,i,s){if(this.textureCache[e]&&this.textureCache[e].references.add(s),this.textureCache[e]&&this.textureCache[e].texture&&this.textureCache[e].texture.frame)return void t(this.textureCache[e].texture);if(this.deferredCallbacks[e])return void this.deferredCallbacks[e].push(t);this.deferredCallbacks[e]=[t];const r=new PIXI.loaders.Loader;i.loaderPlugins&&i.loaderPlugins.forEach(e=>{e.pre&&r.pre(e.pre.bind(e)),e.use&&r.use(e.use.bind(e))}),r.add({url:e,xhrType:"blob"}).load(()=>{const t=r.resources[e].texture;this.textureCache[e]={texture:t,references:new Set([s])},this.deferredCallbacks[e].forEach(e=>{e(t)}),delete this.deferredCallbacks[e],r.reset()})}reset(e){for(const t in this.textureCache)this.textureCache[t].references.delete(e),0===this.textureCache[t].references.size&&(this.textureCache[t].texture.destroy(!0),delete this.textureCache[t])}}s.instance=new s,t.default=s},vDtG:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("/Amf"),r=i("lzL7"),n=i("xtw7");class a extends s.default{constructor(e){super(e),this.maskSprite=null,this.maskSpriteTexture=null,this.maskSpriteBaseTexture=null,this.maskSpriteTextureSource=null,this.maskGraphics=null,this.stageScale=1,this.maskTransform=new PIXI.Transform}static modelDataForPgmNode(e){const t=e.clipPaths,i=e.clipBounds;let s;return s=!t||0===t.length||1===t.length&&"rect"===t[0].type?"rect":1===t.length&&"ellipse"===t[0].type?"ellipse":"arbitrary",{clipPaths:t,height:i.height,type:s,width:i.width,x:i.minX,y:i.minY}}place(){super.place(),this.pixiDisplayObject.position.x=this.maskTransform.position.x*this.stageScale,this.pixiDisplayObject.position.y=this.maskTransform.position.y*this.stageScale,this.pixiDisplayObject.rotation=this.maskTransform.rotation,this.pixiDisplayObject.scale.x=this.maskTransform.scale.x*this.stageScale,this.pixiDisplayObject.scale.y=this.maskTransform.scale.y*this.stageScale}render(e){const t=this.state.data,i=t.clipPaths,s="ellipse"===t.type;if("rect"===t.type&&0===t.x&&0===t.y&&t.width===this.postRenderer.documentWidth&&t.height===this.postRenderer.documentHeight)this.teardownMaskGraphics(),this.teardownMaskSprite();else if(s){const e=this.installMaskGraphics();e.clear(),e.beginFill(0),e.drawEllipse(t.x,t.y,t.width,t.height)}else{this.installMaskSprite();const e=this.postRenderer.documentWidth,t=this.postRenderer.documentHeight,s=this.pixiApp.stage.scale.x*this.pixiApp.renderer.resolution,n=e*s,a=t*s,o=r.default.getScalingTransform(s,s),h=r.default.multiply([],o,this.state.globalPlacement),l=r.default.invert([],h),u=this.maskSpriteBaseTexture,c=this.maskSpriteTexture;this.maskSpriteTextureSource.begin().setSize(n,a).setTransform(h).setColor("white").setPaths(i).render().end(),u.realWidth=u.source.width,u.realHeight=u.source.height,u.width=u.realWidth/u.resolution,u.height=u.realHeight/u.resolution,u.isPowerOfTwo=this.maskSpriteTextureSource.isPowerOfTwo,c._updateID++,c._frame.width=u.width,c._frame.height=u.height,this.pixiApp.renderer.textureManager.updateTexture(u);const d=r.default.decompose(l),p=d.position,f=d.rotation,m=d.scale,g=d.skew;this.maskSprite.setTransform(p.x,p.y,m.x,m.y,f,g.x,g.y,0,0)}super.render(e)}destroy(){this.teardownMaskGraphics(),this.teardownMaskSprite(),super.destroy()}setState(e){this.maskTransform=new PIXI.Matrix(...e.placement).decompose(this.maskTransform),e.placementCacheKeySupplement=`scale:${this.pixiApp.stage.scale.x}`,e.cacheKeySupplement+=":"+e.globalPlacement.join(","),super.setState(e)}installMaskSprite(){this.teardownMaskGraphics(),this.maskSprite||(this.maskSpriteTextureSource=new n.default,this.maskSpriteBaseTexture=new PIXI.BaseTexture(this.maskSpriteTextureSource.getCanvas()),this.maskSpriteBaseTexture.mipmap=!1,this.maskSpriteTexture=new PIXI.Texture(this.maskSpriteBaseTexture),this.maskSprite=new PIXI.Sprite(this.maskSpriteTexture),this.pixiDisplayObject.mask=this.maskSprite,this.pixiDisplayObject.addChild(this.maskSprite))}teardownMaskSprite(){this.maskSprite&&(this.pixiDisplayObject.removeChild(this.maskSprite),this.pixiDisplayObject.mask=null,this.maskSprite.destroy(),this.maskSprite=null),this.maskSpriteTextureSource&&(this.maskSpriteTextureSource.destroy(),this.maskSpriteTextureSource=null)}installMaskGraphics(){return this.teardownMaskSprite(),this.maskGraphics||(this.maskGraphics=new PIXI.Graphics,this.pixiDisplayObject.mask=this.maskGraphics,this.pixiDisplayObject.addChild(this.maskGraphics)),this.maskGraphics}teardownMaskGraphics(){this.maskGraphics&&(this.pixiDisplayObject.removeChild(this.maskGraphics),this.pixiDisplayObject.mask=null,this.maskGraphics.destroy(),this.maskGraphics=null)}}a.TYPE="clip",t.default=a},vKWb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("CkXF"),r=i("0gjg"),n=i("bNrw"),a=i("wYSo"),o=i("lzL7"),h=n.default.instance;var l;!function(e){e[e.VIEWPORT_BOUNDED_TEXTURE=0]="VIEWPORT_BOUNDED_TEXTURE",e[e.NODE_BOUNDED_TEXTURE=1]="NODE_BOUNDED_TEXTURE",e[e.UNUSABLE_TEXTURE=2]="UNUSABLE_TEXTURE",e[e.NO_TEXTURE=3]="NO_TEXTURE"}(l||(l={}));class u extends s.default{constructor(e){super(e),this.isRendered=!1,this.isInRenderQueue=!1,this.textureOffset={x:0,y:0},this.textureFontSize=void 0,this.renderedFontSize=void 0,this.textureSharpness=1,this.textureCacheKey=void 0,this.priorPlacedTracking=void 0,this.textureState=l.NO_TEXTURE,this.pendingTextureState=l.NO_TEXTURE,this.renderedTextureGlobalPlacement=o.default.defaultMatrix,this.baseTexture=new PIXI.BaseTexture(h.getCanvas()),this.baseTexture.mipmap=!1,this.texture=new PIXI.Texture(this.baseTexture),this.sprite=new PIXI.Sprite(this.texture),this.pixiDisplayObject.addChild(this.sprite)}static modelDataForPgmNode(e){const t=e.style,i=t.font,s=e.bounds;return{color:t.fillColor?`#${r.default.rgb2hex(t.fillColor)}`:null,cssName:i.cssName||i.family,fontSize:t.size,fontStyle:i.style||"",fontWeight:i.weight||"normal",height:s.height,left:s.minX,strokeColor:t.strokeColor?`#${r.default.rgb2hex(t.strokeColor)}`:null,strokeWidth:t.strokeWidth,text:e.text,top:s.minY,tracking:t.tracking,width:s.width}}destroy(){this.sprite.destroy({children:!0,texture:!0,baseTexture:!0}),super.destroy()}place(){super.place(),this.updateSpritePlacement()}render(e){this.addLoadHandler(e),this.textureState===l.NO_TEXTURE||this.textureState===l.UNUSABLE_TEXTURE?this.updateTexture():this.isInRenderQueue||(this.isInRenderQueue=!0,a.default.instance.addNormalPriority(this.updateTexture.bind(this))),super.render()}updateTextureWithinDocumentBounds(){this.textureSharpness=1;const e=this.state.data,t=this.postRenderer.documentWidth,i=this.postRenderer.documentHeight,s=this.pixiApp.stage.scale.x*this.textureSharpness*this.pixiApp.renderer.resolution,r=t*s,n=i*s,a=o.default.getScalingTransform(s,s),l=e.height-e.strokeWidth/2,u=[1,0,0,1,-e.strokeWidth/2,l],c=o.default.multiply([],a,this.state.globalPlacement),d=o.default.multiply([],c,u);this.textureFontSize=e.fontSize,this.textureOffset.x=0,this.textureOffset.y=0,this.renderedTextureGlobalPlacement=this.state.globalPlacement,h.setSize(r,n).setTransform(d).setFontSize(e.fontSize).setFont(`${e.fontStyle} ${e.fontWeight} ${e.fontSize}px ${e.cssName}`).setStrokeWidth(e.strokeWidth)}updateTextureWithinNodeBounds(){this.textureSharpness=this.state.data.fontSize<100?1.333:1;const e=this.state.data,t=this.textureSharpness*this.pixiApp.renderer.resolution,i=this.pixiApp.stage.scale.x*t,s=e.fontSize*i,r=e.strokeWidth*i,n=s<16?Math.ceil(s):Math.ceil(2*s)/2,a=e.strokeWidth?Math.max(.1*t,Math.round(r*(n/s)*2)/2):0,o=n/e.fontSize,l=e.width*o,u=e.height*o,c=l+2*u,d=2.5*u,p=[1,0,0,1,u,1.5*u];this.textureFontSize=n,this.textureOffset.x=-u,this.textureOffset.y=.5*-u,h.setSize(c,d).setTransform(p).setFontSize(n).setFont(`${e.fontStyle} ${e.fontWeight} ${n}px ${e.cssName}`).setStrokeWidth(a)}updateTexture(){if(this.isInRenderQueue=!1,this.isDestroyed)return;const e=this.state.data,t=this.baseTexture,i=this.texture;h.begin().setText(e.text).setFillColor(e.color).setStrokeColor(e.strokeColor).setTracking(e.tracking),this.pendingTextureState===l.VIEWPORT_BOUNDED_TEXTURE?this.updateTextureWithinDocumentBounds():this.updateTextureWithinNodeBounds(),h.render().end(),t.realWidth=t.source.width,t.realHeight=t.source.height,t.width=t.realWidth/t.resolution,t.height=t.realHeight/t.resolution,t.isPowerOfTwo=h.isPowerOfTwo,i._updateID++,i._frame.width=t.width,i._frame.height=t.height,this.pixiApp.renderer.textureManager.updateTexture(t),this.textureState=this.pendingTextureState,this.updateSpritePlacement(),this.notifyLoaded()}updateSpritePlacement(){const e=this.state.data,t=e.fontSize,i=t/this.textureFontSize;if(this.textureState===l.NODE_BOUNDED_TEXTURE){const t=e.left+this.textureOffset.x*i,s=e.top+this.textureOffset.y*i;this.sprite.setTransform(t,s,i,i,0,0,0,0,0)}else if(this.textureState===l.VIEWPORT_BOUNDED_TEXTURE){const e=this.pixiApp.stage.scale.x*this.textureSharpness*this.pixiApp.renderer.resolution,i=o.default.getScalingTransform(e,e),s=o.default.multiply([],i,this.renderedTextureGlobalPlacement),r=o.default.invert([],s),n=t/this.textureFontSize;let a=r;if(1!==n){const e=o.default.getScalingTransform(n,n);a=o.default.multiply([],r,e),a[4]*=n,a[5]*=n}const h=o.default.decompose(a),l=h.position,u=(h.rotation,h.scale),c=h.skew;this.sprite.setTransform(l.x,l.y,u.x,u.y,h.rotation,c.x,c.y,0,0)}}setState(e){if(!e||!e.bounds)return;const t=this.state.data,i=!t||t.tracking!==e.data.tracking,r=!t||t.text!==e.data.text,n=(!t||(t.fontSize,e.data.fontSize),this.postRenderer.areaOfDocumentBounds),a=o.default.decomposeScale(e.globalPlacement),h=n<4*s.default.areaOfBoundsAtDocumentScale(e),u=r||i;this.pendingTextureState=h?l.VIEWPORT_BOUNDED_TEXTURE:l.NODE_BOUNDED_TEXTURE,u&&(this.textureState=l.UNUSABLE_TEXTURE),e.placementCacheKeySupplement=`globalPlacementScale:${a.x},fontSize:${e.data.fontSize}`,e.cacheKeySupplement=`stageScale:${this.pixiApp.stage.scale.x}`,h&&(e.cacheKeySupplement+=`placement:${e.globalPlacement.join(",")}`),super.setState(e)}}u.TYPE="text",t.default=u},wYSo:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){this.tailQ=[],this.primaryQ=[],this.MAX_WORK_TIME_MS=4,this.MAX_BATCH_SIZE=6,this.isRunning=!1}processTailQ(){this.primaryQ.length>0?this.processQ():this.tailQ.length>0?(this.tailQ.shift()(),setTimeout(this.processTailQ.bind(this),0)):this.isRunning=!1}processQ(){const e=Date.now();let t,i=0,s=this.primaryQ.length;for(;s>0&&(i++,!(i%this.MAX_BATCH_SIZE==0&&Date.now()-e>=this.MAX_WORK_TIME_MS))&&(t=this.primaryQ.shift());)t(),s--;s>0?setTimeout(this.processQ.bind(this),0):this.processTailQ()}run(){this.isRunning||(this.isRunning=!0,setTimeout(this.processQ.bind(this),0))}addNormalPriority(e){this.primaryQ.push(e),this.run()}addHighPriority(e){this.primaryQ.unshift(e),this.run()}addLowPriority(e){this.tailQ.push(e),this.run()}hasItemsInQueue(){return this.primaryQ.length>0}}s.instance=new s,t.default=s},xGui:function(e,t,i){"use strict";function s(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),s(i("DAf/")),s(i("3hRk")),s(i("6ygk")),s(i("7Lnb"))},xtw7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("RyLA"),r=1024;function n(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function a(e){return e&&0==(e&e-1)}t.default=class{constructor(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=10,this.height=10,this.color="#FFFFFF",this.paths=[],this.isPowerOfTwo=!1,this.renderer=new s.default(this.context,null),this.canvas.style.pointerEvents="none"}begin(){return this.context.save(),this}end(){return this.context.restore(),this}setTransform(e){return this.transform=e,this}setSize(e,t){return this.width=e,this.height=t,this}setPath(e){return this.setPaths([e])}setPaths(e){return this.paths=e,this}setColor(e){return this.color=e,this}render(e=!1){const t=e||Math.max(this.width,this.height)<=r;t?(this.canvas.width=n(Math.round(this.width)),this.canvas.height=n(Math.round(this.height)),this.isPowerOfTwo=t):(this.canvas.width=Math.ceil(this.width),this.canvas.height=Math.ceil(this.height),this.isPowerOfTwo=a(this.canvas.width)&&a(this.canvas.height)),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.transform.apply(this.context,this.transform);for(var i=0,s=this.paths.length;i<s;++i){var o=this.paths[i];this.context.lineWidth=o.pathStrokeWeight,this.context.miterLimit=o.pathMiterLimit,this.context.lineJoin=o.pathJoinType,this.context.lineCap=o.pathEndcapType,o.render(this.renderer),"none"!==o.pathFillType?(this.context.fillStyle=this.color,this.context.strokeStyle=null,this.context.fill(o.pathFillType)):(this.context.strokeStyle=this.color,this.context.fillStyle=null,this.context.stroke())}return this}getCanvas(){return this.canvas}destroy(){return this.canvas=null,this.context=null,this}}},z8uW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i("3hRk"),r=i("UzQk");class n{constructor(e,t,i,s){this.api=e,this.assetLoader=i,this.graph=t,this.frameRate=s,this.observers={}}on(e,t){let i=this.observers[e];i?i.push(t):(i=[t],this.observers[e]=i)}publish(e){let t=this.observers[e.type];t&&t.forEach(t=>{try{t(e)}catch(e){console.log("throw during event processing",e)}})}begin(){this.queue=this.api.imageService.createQueue(this.assetLoader),this.evaluator=new r.PGMGraphEvaluator(this.graph),this.frameIndex=-1,this.doNextFrame()}doNextFrame(){if(this.canceled)this.publish(new s.FrameProductionCanceledEvent);else{this.frameIndex++;let e=this.frameIndex/this.frameRate;if(e>this.graph.duration)this.publish(new s.FrameProductionCompleteEvent);else{let t=this.evaluator.evaluateAtTime(e);this.queue.renderAsRawBuffer(t,1).then(t=>{this.canceled||(this.publish(new s.FrameDataEvent(this.frameIndex,e,t.buffer,t.width,t.height)),this.doNextFrame())})}}}cancel(){this.canceled=!0}destroy(){this.queue.destroy()}}t.PixiFrameProductionService=class{constructor(e){this.api=e}createProducer(e,t,i){return new n(this.api,e,t,i)}}},zrCk:function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(r,n){function a(e){try{h(s.next(e))}catch(e){n(e)}}function o(e){try{h(s.throw(e))}catch(e){n(e)}}function h(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(a,o)}h((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i("+5yP"),n=i("7Lnb");t.PixiImageService=class{constructor(e){this.api=e}createQueue(e){return new o(this.api,e)}};class a{constructor(e,t,i,s=!1){this.headless=e,this.headless.setWatermark(s),this.graph=t,this.resolution=i,this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}start(e){const t=Math.round(this.graph.bounds.width*this.resolution),i=Math.round(this.graph.bounds.height*this.resolution);this.headless.setMaxRenderSize(t,i),this.headless.renderToBuffer(this.graph).then(s=>{this.resolve({buffer:s,width:t,height:i}),e()}).catch(t=>{this.reject(t),e()})}}class o{constructor(e,t){this.queue=[],this.api=e,this.headless=new r.default(this.api.host,1,t)}checkQueue(){!this.activeEntry&&this.queue.length>0&&(this.activeEntry=this.queue.shift(),this.activeEntry.start(()=>{this.activeEntry=null,this.checkQueue()}))}renderAsRawBuffer(e,t,i=!1){let s=new a(this.headless,e,t,i);return this.queue.push(s),this.checkQueue(),s.promise}renderAsPNGBuffer(e,t,i=!1){return s(this,void 0,void 0,(function*(){const s=n.ImageEncoderRegistry.getRegisteredPNGEncoder();return s?s.encodeToBuffer(yield this.renderAsRawBuffer(e,t,i)):Promise.reject(new Error("No PNG image encoder has been registered. You may want the pgm-image-encoders package."))}))}renderAsPNGDataURL(e,t){return s(this,void 0,void 0,(function*(){const i=n.ImageEncoderRegistry.getRegisteredPNGEncoder();return i?i.encodeToDataURL(yield this.renderAsRawBuffer(e,t)):Promise.reject(new Error("No PNG image encoder has been registered. You may want the pgm-image-encoders package."))}))}renderAsJPEGBuffer(e,t,i,r=!1){return s(this,void 0,void 0,(function*(){const s=n.ImageEncoderRegistry.getRegisteredJPEGEncoder();return s?s.encodeToBuffer(yield this.renderAsRawBuffer(e,t,r),i):Promise.reject(new Error("No JPEG image encoder has been registered. You may want the pgm-image-encoders package."))}))}renderAsJPEGDataURL(e,t,i){return s(this,void 0,void 0,(function*(){const s=n.ImageEncoderRegistry.getRegisteredJPEGEncoder();return s?s.encodeToDataURL(yield this.renderAsRawBuffer(e,t),i):Promise.reject(new Error("No JPEG image encoder has been registered. You may want the pgm-image-encoders package."))}))}destroy(){this.headless.destroy()}}t.PixiImageQueue=o}}]);
//# sourceMappingURL=vendors_npm_spark_1801d15a-270bc0d3.js.map